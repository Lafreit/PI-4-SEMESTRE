{% load static %}
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Pagamento</title>
  <link rel="stylesheet" href="{% static 'pagamentos/payment.css' %}">
</head>
<body>
  {% if erro %}
    <h2>Erro ao criar pagamento</h2>
    <pre>{{ erro|safe }}</pre>
    <a href="javascript:history.back()">Voltar</a>
  {% else %}
    <h2>Pagamento - QR Code PIX</h2>

    {% if data.brCodeBase64 %}
      <img id="pix-qrcode" src="{{ data.brCodeBase64 }}" alt="QR Code PIX">
    {% elif data.brCode %}
      <p><strong>CÃ³digo copia e cola:</strong></p>
      <textarea readonly rows="4" cols="60" id="brcode">{{ data.brCode }}</textarea>
      <button id="copy-btn">Copiar</button>
    {% else %}
      <pre>{{ data|default:raw|safe }}</pre>
    {% endif %}

    <p>Status: <span id="status">{{ data.status }}</span></p>
    <input type="hidden" id="payment-id" value="{{ payment_id }}">
    <a href="/">Voltar</a>
  {% endif %}

  <script src="{% static 'pagamentos/payment.js' %}"></script>
</body>
</html>
